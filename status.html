<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	$(if refresh-timeout)
	<meta http-equiv="refresh" content="$(refresh-timeout-secs)">
	$(endif)
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="pragma" content="no-cache" />
	<meta http-equiv="expires" content="-1" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="vendor/leaflet/leaflet.css">
	<link rel="stylesheet" href="vendor/bs/css/bootstrap.min.css">
	<link rel="stylesheet" href="vendor/aos/aos.css">
	<link rel="stylesheet" href="vendor/alert/sweetalert2.min.css">
	<link rel="stylesheet" href="assets/css/main.min.css">
	<title>liHospot | Status</title>
</head>

<body>
	<div id="addRow">
		<section class="sec-login container mt-4 col-md-4 mx-auto">
			<div class="title-page" data-aos="fade-up">
				<h5>Selamat Datang</h5>
				<p>Nikmati access internet cepat & stabil</p>
			</div>

			<div class="card border-0 shadow my-2 wifi-position" data-aos="fade-up">
				<div class="status shadow">
					<i class="fa-solid fa-wifi fa-fade"></i>
					<span>hostpot 1</span>
				</div>

				<div id="map"></div>
			</div>

			<div class="card border-0 shadow my-2 status-account" data-aos="fade-up">
				<div class="card-body p-3">
					<div class="jumbroton">
						<img class="logo" src="img/corner.png">
						<fieldset class="fieldset title">
							<legend align="center" class="legend">
								<span class="text-center">
									WELCOME $(if login-by == 'trial')
									TRIAL
									$(elif login-by != 'mac')
									$(username)
									$(endif)
								</span>
							</legend>
						</fieldset>
						<p class="text-center info-user">Silahkan pergunakan internet dengan bijak</p>
						<table class="table table-bordered text-left">
							<tr>
								<td>User</td>
								<td>
									$(if login-by == 'trial')
									TRIAL
									$(elif login-by != 'mac')
									$(username)
									$(endif)
								</td>
							</tr>
							<tr>
								<td>Alamat IP</td>
								<td>$(ip)</td>
							</tr>
							<tr>
								<td>Terhubung</td>
								<td>$(uptime)</td>
							</tr>
							<tr>
								<td>Trafik</td>
								<td>$(bytes-total-nice)</td>
							</tr>
							<tr>
								<td>Sisa kuota</td>
								<td>$(remain-bytes-total-nice)</td>
							</tr>
							$(if session-time-left)
							<tr>
								<td>Sisa masa aktif</td>
								<td>$(session-time-left)</td>
							</tr>
							$(else)
							<tr>
								<td>Sisa masa aktif</td>
								<td>unlimited</td>
							</tr>
							$(endif)
						</table>
						<div class="text-end">
							<div class="form-group">
								<form action="$(link-logout)" name="logout" onSubmit="return openLogout()">
									<input type="hidden" name="erase-cookie" value="on">
									$(if login-by-mac != 'yes')
									<button type="submit" class="btn btn-danger">LOGOUT</button>
									$(endif)
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>

	<footer>
		<small>powered by ‚ù§ karibsdev</small>
	</footer>

	<!-- JS -->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/fontawesome/all.min.js"></script>
	<script src="vendor/bs/js/bootstrap.min.js"></script>
	<script src="vendor/leaflet/leaflet.js"></script>
	<script src="vendor/jsqr/dist/jsQR.js"></script>
	<script src="vendor/alert/sweetalert2.all.min.js"></script>
	<script src="vendor/aos/aos.js"></script>
	<script>
        window.addEventListener('load', addRowIfDesktop);
        window.addEventListener('resize', addRowIfDesktop);
    </script>
	<script>
		AOS.init();

		var map = L.map('map', {
			zoomControl: false
		}).setView([0.47455041186850877, 101.38867870435247], 16.5);

		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			maxZoom: 19,
		}).addTo(map);

		var circle = L.circle([0.47455041186850877, 101.38867870435247], {
			fillColor: 'blue',
			fillOpacity: 0.2,
			radius: 70,
		}).addTo(map);

		if ('geolocation' in navigator) {
			navigator.geolocation.getCurrentPosition(showMap);
		} else {
			console.log('Geolocation tidak tersedia di browser ini.');
		}

		function openLogout() {
			if (window.name != 'hotspot_status') return true;
			open('$(link-logout)', 'hotspot_logout',
				'toolbar=0,location=0,directories=0,status=0,menubars=0,resizable=1,width=280,height=250');
			window.close();
			return false;
		}
	</script>
</body>

</html>